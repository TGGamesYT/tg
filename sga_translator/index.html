<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SGA Translator with Brython</title>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/brython@3.10.5/brython.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        input, button {
            margin: 10px;
            padding: 10px;
            font-size: 14px;
        }
    </style>
</head>
<body onload="brython()">

    <h1>SGA Translator</h1>

    <label for="inputText">Enter text to translate:</label>
    <input type="text" id="inputText" placeholder="Enter text to translate" />

    <br>

    <label for="translateType">Select translation type:</label>
    <select id="translateType">
        <option value="1">English to SGA</option>
        <option value="2">SGA to English</option>
    </select>

    <br>

    <button onclick="translate()">Translate</button>

    <h3>Result:</h3>
    [<p id="result">default</p>]

    <script type="text/python">

        from browser import document

        # Mapping of English letters to Standard Galactic Alphabet (SGA)
        english_to_sga = {
            'a': '·îë', 'b': ' ñ', 'c': '·ìµ', 'd': '‚Ü∏', 'e': '·í∑', 'f': '‚éì', 'g': '‚ä£', 'h': '‚çë',
            'i': '‚ïé', 'j': '‚ãÆ', 'k': 'Íñå', 'l': 'Íñé', 'm': '·í≤', 'n': '„É™', 'o': 'ùôπ', 'p': '!¬°',
            'q': '·ëë', 'r': '‚à∑', 's': '·ì≠', 't': '‚Ñ∏Ã£', 'u': '‚öç', 'v': '‚çä', 'w': '‚à¥', 'x': 'Ãá/',
            'y': '||', 'z': '‚®Ö'
        }

        # Reverse mapping for SGA to English
        sga_to_english = {v: k for k, v in english_to_sga.items()}

        # Function to translate English text to Standard Galactic Alphabet (SGA)
        def translate_to_sga(text):
            return ' '.join(english_to_sga.get(char, char) for char in text.lower())

        # Function to translate SGA text to English
        def translate_to_english(sga_text):
            # Fix corrupted 'o' (unknown chars default to 'o')
            sga_text = sga_text.replace('ÔøΩ', 'ùôπ')  

            # Split while preserving spaces
            words = sga_text.split(' ')
            translated_text = []

            for char in words:
                if char in sga_to_english:
                    translated_text.append(sga_to_english[char])
                elif char == '':
                    translated_text.append(' ')  # Preserve single spaces
                else:
                    translated_text.append('o')  # Default unknown characters to 'o'

            return ''.join(translated_text).replace('  ', ' ')  # Remove double spaces

        # Function to handle the translation process
        def translate():
            input_text = document["inputText"].value.strip()
            translate_type = int(document["translateType"].value)

            if not input_text:
                document["result"].text = "Please enter some text to translate."
                return

            result_text = ""

            if translate_type == 1:
                result_text = translate_to_sga(input_text)
            elif translate_type == 2:
                result_text = translate_to_english(input_text)
            else:
                result_text = "Invalid option selected."

            document["result"].text = result_text

    </script>

</body>
</html>
